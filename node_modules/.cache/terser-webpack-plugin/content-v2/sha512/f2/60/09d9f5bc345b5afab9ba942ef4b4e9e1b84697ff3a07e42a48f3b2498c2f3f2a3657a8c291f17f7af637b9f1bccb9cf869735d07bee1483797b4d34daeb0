{"map":{"version":3,"sources":["js/6.f4dc9a25516e63f40a43.js"],"names":["window","push","CEe0","module","exports","__webpack_require__","i","Pg0s","__webpack_exports__","r","Mid","Tbus","DateFormatComponent","TaskListComponent","projects_ProjectListComponentvue_type_script_lang_js_","mixins","Object","props","data","showTaskList","showProjectForm","projectId","projectName","columns","filters","this","$form","name","company","email","phone","balance","range","addRoute","options","orderBy","ascending","column","sortable","editableColumns","perPage","columnsClasses","id","receivable","actions","details","filterable","headings","customer","start_date","end_date","type","date_to_complete","actual_time","price","expenses","percentage_done","methods","showTasks","showProjectsList","editDetails","val","target","replace","$http","concat","value","then","goBack","percentageCalculation","tasksTime","percentage","reduce","a","b","Number","isFinite","created","customerId","computed","url","get","components","componentNormalizer","component","_vm","_h","$createElement","_c","_self","_e","staticClass","on","click","_v","$event","filtering","attrs","to","_s","customerName","ref","scopedSlots","_u","key","fn","row","dateTime","$store","getters","deleteRecord","class","loaded","hide-panel-filters","modal","XY4E","content","hmr","transform","insertInto","undefined","locals","efi/","_node_modules_style_loader_index_js_node_modules_css_loader_index_js_ref_6_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_2_node_modules_vue_loader_lib_index_js_vue_loader_options_ProjectListComponent_vue_vue_type_style_index_0_id_245d889d_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","n"],"mappings":"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"},"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{CEe0:function(t,e,s){(t.exports=s(\"I1BE\")(!1)).push([t.i,\"#tasks-table table[data-v-245d889d],table td .details-textarea[data-v-245d889d]{width:100%;height:100%}.details-td[data-v-245d889d]{padding:0!important}.back-title[data-v-245d889d]{padding:5px}\",\"\"])},Pg0s:function(t,e,s){\"use strict\";s.r(e);var a=s(\"jED+\"),n=s(\"afzW\"),o=s(\"9RQC\"),i=s(\"LZtv\"),r={mixins:[a.a,Object(n.a)(\"app/projects\")],props:[\"modal\",\"customerId\",\"customerName\"],data:function(){return{showTaskList:!1,showProjectForm:!1,projectId:null,projectName:null,columns:[\"name\",\"customer\",\"start_date\",\"end_date\",\"price\",\"expenses\",\"type\",\"percentage_done\",\"actions\"],filters:new this.$form({name:\"\",company:\"\",email:\"\",phone:\"\",balance:!1,range:0}),addRoute:null,options:{orderBy:{ascending:!0,column:\"name\"},sortable:[\"name\",\"start_date\",\"end_date\",\"priority\"],editableColumns:[\"details\"],perPage:10,columnsClasses:{id:\"w50 has-text-centered\",receivable:\"w125 has-text-right\",actions:\"w175 has-text-centered p-x-none\",details:\"details-td\"},filterable:[\"name\",\"start_date\",\"end_date\",\"details\"],headings:{name:\"שם\",customer:\"לקוח\",start_date:\"תחילת עסודה\",end_date:\"סיום עבודה\",type:\"סוג\",date_to_complete:\"תאריך התחלה\",actual_time:\"תאריך סיום\",price:\"מחיר\",expenses:\"הוצאות\",actions:\"פעולות\",percentage_done:\"אחוז מהעבודה עד כה\"}}}},methods:{showTasks:function(t,e){this.projectId=t,this.projectName=e,this.showTaskList=!0},showProjectsList:function(){this.showTaskList=!1},editDetails:function(t){var e=t.target.id.replace(/[^\\d.]/g,\"\");this.$http(\"app/projects/details/\".concat(t.target.value,\"/\").concat(e)).then()},goBack:function(){},percentageCalculation:function(t,e){if(t){var s=100*(t.reduce((function(t,e){return t+e}),0)/60)/e;if(Number.isFinite(s))return\" % \"+100*s}}},created:function(){this.showTaskList=!1,this.addRoute=this.customerId?\"/projects/add?customerId=\".concat(this.customerId):\"/projects/add\"},computed:{url:{get:function(){return this.customerId?\"app/customers/projects/\".concat(this.customerId):\"app/projects\"}}},components:{DateFormatComponent:o.a,TaskListComponent:i.default}},c=(s(\"efi/\"),s(\"KHd+\")),l=Object(c.a)(r,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s(\"div\",[t.showTaskList?t._e():s(\"div\",{staticClass:\"wrapper\"},[s(\"div\",{staticClass:\"panel panel-default\"},[s(\"div\",{staticClass:\"panel-heading\"},[t.customerName?s(\"button\",{staticClass:\"button is-primary is-small is-pulled-right\",on:{click:t.goBack}},[s(\"p\",{staticClass:\"back-title\"},[t._v(\" חזרה \")]),t._v(\" \"),s(\"i\",{staticClass:\"fas fa-backward\"})]):t._e(),t._v(\" \"),s(\"button\",{staticClass:\"button is-primary is-small is-pulled-right m-l-sm is-hidden-desktop\",on:{click:function(e){t.filtering=!t.filtering}}},[s(\"i\",{staticClass:\"fas fa-cog\"})]),t._v(\" \"),s(\"router-link\",{staticClass:\"button is-link is-small is-pulled-right\",attrs:{to:t.addRoute}},[s(\"i\",{staticClass:\"fas fa-plus m-l-sm\"}),t._v(\" הוספת פרויקט\\n      \")]),t._v(\"\\n      פרוייקטים\\n      \"),t.customerId?s(\"span\",[t._v(\" עבור : \"),s(\"strong\",[t._v(t._s(t.customerName))])]):t._e()],1),t._v(\" \"),s(\"div\",{staticClass:\"panel-block table-body-br\"},[s(\"v-server-table\",{ref:\"projectsTable\",attrs:{id:\"projects-table\",url:t.url,columns:t.columns,options:t.options,name:\"projectsTable\"},scopedSlots:t._u([{key:\"customer\",fn:function(e){return[s(\"div\",{staticClass:\"has-text-centered\"},[t._v(\"\\n            \"+t._s(e.row.customer?e.row.customer.name:\"\")+\"\\n          \")])]}},{key:\"start_date\",fn:function(t){return[s(\"date-format-component\",{attrs:{dateTime:t.row.start_date}})]}},{key:\"end_date\",fn:function(t){return[s(\"date-format-component\",{attrs:{dateTime:t.row.end_date}})]}},{key:\"type\",fn:function(e){return[s(\"div\",{staticClass:\"has-text-centered\"},[t._v(\"\\n            \"+t._s(e.row.type?e.row.type.name:\"\")+\"\\n          \")])]}},{key:\"percentage_done\",fn:function(e){return[s(\"div\",{staticClass:\"has-text-centered\"},[t._v(\"\\n\\n            \"+t._s(t.percentageCalculation(e.row.actual_time,e.row.price))+\"\\n          \")])]}},{key:\"actions\",fn:function(e){return[s(\"div\",{staticClass:\"buttons has-addons is-centered\"},[s(\"p\",{staticClass:\"control tooltip\"},[s(\"router-link\",{staticClass:\"button is-primary is-small\",attrs:{to:\"/projects/\"+e.row.id}},[s(\"i\",{staticClass:\"fas fa-file-alt\"}),t._v(\" \"),s(\"span\",{staticClass:\"tooltip-text\"},[t._v(\"צפייה\")])])],1),t._v(\" \"),s(\"p\",{staticClass:\"control tooltip\"},[s(\"a\",{staticClass:\"fas fa-list button is-info is-small\",on:{click:function(s){return t.showTasks(e.row.id,e.row.name)}}},[s(\"span\",{staticClass:\"tooltip-text bottom\"},[t._v(\" רשימת משימות\")])])]),t._v(\" \"),t.$store.getters.admin?s(\"p\",{staticClass:\"control tooltip\"},[s(\"router-link\",{staticClass:\"button is-warning is-small\",attrs:{to:\"/projects/edit/\"+e.row.id}},[s(\"i\",{staticClass:\"fas fa-edit\"}),t._v(\" \"),s(\"span\",{staticClass:\"tooltip-text\"},[t._v(\"עריכה\")])])],1):t._e(),t._v(\" \"),t.$store.getters.superAdmin?s(\"p\",{staticClass:\"control tooltip\"},[s(\"button\",{staticClass:\"button is-danger is-small\",attrs:{type:\"button\"},on:{click:function(s){return t.deleteRecord(e.row.id)}}},[s(\"i\",{staticClass:\"fas fa-trash\"}),t._v(\" \"),s(\"span\",{staticClass:\"tooltip-text\"},[t._v(\"מחיקה\")])])]):t._e()])]}}],null,!1,1860042847)},[t._v(\" \"),t._v(\" \"),t._v(\" \"),t._v(\" \"),t._v(\"\\n        percentageCalculation\\n\\n        \")])],1)]),t._v(\" \"),t.filtering?s(\"panel-filters-component\",{class:{loaded:t.filtering},attrs:{filters:t.filters},on:{\"hide-panel-filters\":function(e){t.filtering=!1}}}):t._e(),t._v(\" \"),s(\"router-view\")],1),t._v(\" \"),t.showTaskList?s(\"div\",[s(\"task-list-component\",{attrs:{projectName:t.projectName,projectId:t.projectId,modal:\"projects\"},on:{showProjectsList:t.showProjectsList}})],1):t._e()])}),[],!1,null,\"245d889d\",null);e.default=l.exports},XY4E:function(t,e,s){var a=s(\"CEe0\");\"string\"==typeof a&&(a=[[t.i,a,\"\"]]);var n={hmr:!0,transform:void 0,insertInto:void 0};s(\"aET+\")(a,n);a.locals&&(t.exports=a.locals)},\"efi/\":function(t,e,s){\"use strict\";var a=s(\"XY4E\");s.n(a).a}}]);","extractedComments":[]}